<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<script>
window.onload=function(){
var oDiv=document.getElementById('box');
 
   oDiv.onclick=function(){
	  	sport(oDiv,'width',600);
	  };
	
};

function sport(obj,prop,end)  //当前位置和目标位置有个差值根据这个差值来判断运动的方向
{   
	clearInterval(obj.timer);
	obj.timer=setInterval(function(){
	
	speed=(end-cssStyle(obj,prop))/10;
	
	speed=speed>0?Math.ceil(speed):Math.floor(speed);
	
	if(end==cssStyle(obj,prop))
	{
		clearInterval(obj.timer);	
	}
	else
	{		
		cssStyle(obj,prop,cssStyle(obj,prop)+speed);
	
	}
	
	},30);
}

function cssStyle(obj,prop,value)
{  
   //传递两个参数的时候的功能是获取该对象的属性值
   //传递三个参数的时候的功能是设置该对象的属性的值
   //arguments 就是保存传递参数的数组
	if(arguments.length==2)
	{
		if(obj.currentStyle)
		{
			return parseFloat(obj.currentStyle[prop]);  // IE 浏览器的使用	
		}
		else
		{
			return parseFloat(getComputedStyle(obj,false)[prop]);  //FF  chrome 高版本的浏览器
		}
	}
	else if(arguments.length==3)
	{
		obj.style[prop]=value+'px';	
	}
	else
	{}		
}
</script>
<style>
*{ margin:0px;
	padding:0px;
	border:0px;
	}
	
#box { width:200px;
	  height:200px;
	  background:#0C0;
	  position:absolute;
	  }
#line{ width:2px;
		height:600px;
		background:#F00;
		position:absolute;
		left:600px;
		top:0px;}
</style>
</head>

<body>
	<div id="box"></div>
    <div id="line"></div>
</body>
</html>
