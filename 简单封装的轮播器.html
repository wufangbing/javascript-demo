<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Untitled Document</title>
<script>
window.onload=function()
{
	var obox=document.getElementById('all');
	var aimg=obox.getElementsByTagName('img');
	
	var obt=document.getElementById('bottom');
	var ain=obt.getElementsByTagName('input');
	
	var oleft=document.getElementById('left');
	var oright=document.getElementById('right');
	
	var timer=null;
	oleft.onclick=function()
	{
		clearInterval(timer);
		if(i>=1&&i<4)
		autoPlay(i-1);
		else
		autoPlay(3);
		timer=setInterval(change,2000);
		
	};
	oright.onclick=function()
	{
		clearInterval(timer);
		if(i>=0&&i<3)
		autoPlay(i+1);
		else
		autoPlay(0);
		timer=setInterval(change,2000);
		
	};
	
	
	timer=setInterval(change,2000);
	var j;
	for(j=0;j<ain.length;j++)
	{
		ain[j].index=j;
		ain[j].onclick=function()
		{
			clearInterval(timer);
			autoPlay(this.index);
			timer=setInterval(change,2000);	
		}
	}
	
	
	obox.onmouseover=function()
	{
			clearInterval(timer);	
	}
	obox.onmouseout=function()
	{
		clearInterval(timer);	
		timer=setInterval(change,2000);
	}
	
	
	var i=0;
	
	var a=0;
	function change()
	{
		i++;
		if(i>=aimg.length)
		i=0;
		autoPlay(i);
	}
	function autoPlay(a)
	{
		for(var z=0;z<aimg.length;z++)
		{
			aimg[z].style.display='none';
			ain[z].className='';	
		}
		
			aimg[a].style.display='block';
			ain[a].className='color';
			i=a;	
	}
	
	
};

</script>
<style>
*{margin:0px;
	padding:0px;
	border:0px;}
	
#all{
	width:400px;
	height:200px;
	border:1px solid #3CF;
	position:absolute;
	top:100px;
	left:200px;
	z-index:1;
	}

#all ul{
	list-style:none;
	position:absolute;
	}

#all ul li{
	width:400px;
	height:200px;
	position:absolute;
	
	}
	
img{
	width:400px;
	height:200px;
	display:none;}

#bottom{
	width:200px;
	height:30px;
	border:0px solid #0FF;
	position:absolute;
	left:370px;
	top:270px;
	z-index:1;
	}

#bottom input{
	width:30px;
	height:30px;
	
	}

.color{
	background:#0FC;}

#left{
	width:50px;
	height:30px;
	border:1px solid #099;
	text-align:center;
	position:absolute;
	top:180px;
	left:150px;
	opacity:0.5;
	background:#909;
	z-index:3;
	line-height:28px;
	}
	
#right{
	width:50px;
	height:30px;
	border:1px solid #099;
	text-align:center;
	position:absolute;
	top:180px;
	left:600px;
	opacity:0.5;
	background:#909;
	z-index:3;
	line-height:28px;
	}
</style>
</head>

<body>
<div id="all">
<ul>
<li><img style="display:block" src="image/1.jpg"></li>
<li><img src="image/2.jpg"></li>
<li><img src="image/4.jpg"></li>
<li><img src="image/5.jpg"></li>
</ul>
</div>
<div id="bottom">
<input class="color" type="button" value="1">
<input class="" type="button" value="2">
<input class="" type="button" value="3">
<input class="" type="button" value="4">
</div> 
<div id="left">left</div>
<div id="right">right</div>
</body>
</html>
